<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>随机小球</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #canvas {
            display: block;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        var canvas = document.querySelector("#canvas");
        var w = window.innerWidth;
        var h = window.innerHeight;
        canvas.width = w;
        canvas.height = h;
        var can = canvas.getContext('2d');
        var aColor = ['#409EFF', '#67C23A', '#E6A23C', '#F56C6C', '#909399']
        var font = ['傻', '惠', '惠', '是', '笨', '蛋']

        function random(min, max) { //随机返回一个 min-max之间的随机数
            return Math.random() * (max - min) + min;
        }

        function Bubble() {}; //圆的DNA  构造函数
        canvas.style.background = "linear-gradient(to right bottom,#" + Math.random().toString(16).slice(2, 8) + ",#" +
            Math.random().toString(16).slice(2, 8) + ",#" +
            Math.random().toString(16).slice(2, 8) +",#" +
            Math.random().toString(16).slice(2, 8) +")"
        Bubble.prototype = {
            init: function (speed) { //圆的基本配置
                this.r = random(10, 20); //半径
                this.x = random(this.r, w - this.r);
                this.y = random(this.r, h - this.r);
                // this.color = aColor[Math.floor(random(0, aColor.length))]; //颜色
                this.color = '#' + Math.random().toString(16).slice(2, 8);
                this.vx = random(-speed, speed);
                this.vy = random(-speed, speed);
                this.font = font[Math.floor(random(0, font.length))];
            },
            darw: function () {
                can.beginPath();
                can.fillStyle = this.color;
                can.arc(this.x, this.y, this.r, 0, Math.PI * 2);
                can.globalAlpha = 0.6;
                can.fill();
                can.beginPath();
                can.font = this.r + "px Courier New";
                //设置字体填充颜色
                can.fillStyle = "#ffffff";
                //从坐标点(50,50)开始绘制文字
                can.fillText(this.font, this.x - this.r / 2, this.y + this.r / 3);
                can.fill();

            },
            move() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x - this.r < 0 || this.x + this.r > w) {
                    this.vx = -this.vx
                } else
                if (this.y - this.r < 0 || this.y + this.r > h) {
                    this.vy = -this.vy
                }
                this.darw();
            }
        }
        var aBubble = [];

        function drawy(num) {
            for (let i = 0; i < num; i++) {
                var aa = new Bubble();
                aa.init(5);
                aa.darw();
                aBubble.push(aa)
            }
        }
        drawy(w / 8);
        setInterval(function () {
            can.clearRect(0, 0, w, h)
            for (var item of aBubble) {
                item.move();
            }
        }, 10)
    </script>
</body>

</html>
